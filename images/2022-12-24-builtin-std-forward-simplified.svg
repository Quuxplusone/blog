<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="700" height="350" viewBox="0 0 700 350">

<style>
  .technique {
    font-family: monospace;
    font-size: 20px;
    text-align: center;
  }
  .optlevel {
    font-family: monospace;
    font-size: 30px;
    text-align: center;
  }
</style>

<!--
Bars are generated with this Python script.
The color scheme is due to Paul Tol, https://personal.sron.nl/~pault/
colors = ["#CC3311", "#009988"]
groups = [
    ("-O0", [
      (["forward", ""], [102.347, 98.442, 98.936, 98.372]),
      (["cast", ""], [72.412, 70.380, 71.685, 72.901]),
    ]),
    ("-O2 -g", [
      (["forward", ""], [228.219, 219.064, 219.168, 225.744]),
      (["cast", ""], [207.683, 200.970, 205.881, 202.192]),
    ]),
    ("-O3", [
      (["forward", ""], [167.295, 164.605, 164.631, 164.806]),
      (["cast", ""], [158.101, 155.025, 156.924, 156.146]),
    ]),
]
BarWidth = 20
BaselineY = 250
TechniqueY = 270
OptLevelY = 325
cx = 30
for (optlevel, results) in groups:
  print('<text x="%d" y="%d" text-anchor="middle" class="optlevel">%s</text>' % (cx + BarWidth*9/2, OptLevelY, optlevel))
  perfBaseline = sum(results[0][1]) / len(results[0][1])
  for (color, (technique, bars)) in zip(colors, results):
    print('<g>')
    perf = sum(bars) / len(bars)
    for dy, line in enumerate(technique + ['%d%%' % int(100 * (perf / perfBaseline) + 0.5)]):
      print('  <text x="%d" y="%d" text-anchor="middle" class="technique">%s</text>' % (cx + BarWidth*4/2, TechniqueY + 10*dy, line))
    for h in bars:
      print('  <rect x="%d" y="%d" fill="%s" width="%d" height="%.3f"/>' % (cx, BaselineY - h, color, BarWidth, h))
      cx += BarWidth
    print('</g>')
    cx += BarWidth
  cx += BarWidth
-->

<text x="120" y="325" text-anchor="middle" class="optlevel">-O0</text>
<g>
  <text x="70" y="270" text-anchor="middle" class="technique">forward</text>
  <text x="70" y="279" text-anchor="middle" class="technique"></text>
  <text x="70" y="290" text-anchor="middle" class="technique">100%</text>
  <rect x="30" y="147" fill="#CC3311" width="20" height="102.347"/>
  <rect x="50" y="151" fill="#CC3311" width="20" height="98.442"/>
  <rect x="70" y="151" fill="#CC3311" width="20" height="98.936"/>
  <rect x="90" y="151" fill="#CC3311" width="20" height="98.372"/>
</g>
<g>
  <text x="170" y="270" text-anchor="middle" class="technique">cast</text>
  <text x="170" y="279" text-anchor="middle" class="technique"></text>
  <text x="170" y="290" text-anchor="middle" class="technique">72%</text>
  <rect x="130" y="177" fill="#009988" width="20" height="72.412"/>
  <rect x="150" y="179" fill="#009988" width="20" height="70.380"/>
  <rect x="170" y="178" fill="#009988" width="20" height="71.685"/>
  <rect x="190" y="177" fill="#009988" width="20" height="72.901"/>
</g>
<text x="340" y="325" text-anchor="middle" class="optlevel">-O2 -g</text>
<g>
  <text x="290" y="270" text-anchor="middle" class="technique">forward</text>
  <text x="290" y="279" text-anchor="middle" class="technique"></text>
  <text x="290" y="290" text-anchor="middle" class="technique">100%</text>
  <rect x="250" y="21" fill="#CC3311" width="20" height="228.219"/>
  <rect x="270" y="30" fill="#CC3311" width="20" height="219.064"/>
  <rect x="290" y="30" fill="#CC3311" width="20" height="219.168"/>
  <rect x="310" y="24" fill="#CC3311" width="20" height="225.744"/>
</g>
<g>
  <text x="390" y="270" text-anchor="middle" class="technique">cast</text>
  <text x="390" y="279" text-anchor="middle" class="technique"></text>
  <text x="390" y="290" text-anchor="middle" class="technique">92%</text>
  <rect x="350" y="42" fill="#009988" width="20" height="207.683"/>
  <rect x="370" y="49" fill="#009988" width="20" height="200.970"/>
  <rect x="390" y="44" fill="#009988" width="20" height="205.881"/>
  <rect x="410" y="47" fill="#009988" width="20" height="202.192"/>
</g>
<text x="560" y="325" text-anchor="middle" class="optlevel">-O3</text>
<g>
  <text x="510" y="270" text-anchor="middle" class="technique">forward</text>
  <text x="510" y="279" text-anchor="middle" class="technique"></text>
  <text x="510" y="290" text-anchor="middle" class="technique">100%</text>
  <rect x="470" y="82" fill="#CC3311" width="20" height="167.295"/>
  <rect x="490" y="85" fill="#CC3311" width="20" height="164.605"/>
  <rect x="510" y="85" fill="#CC3311" width="20" height="164.631"/>
  <rect x="530" y="85" fill="#CC3311" width="20" height="164.806"/>
</g>
<g>
  <text x="610" y="270" text-anchor="middle" class="technique">cast</text>
  <text x="610" y="279" text-anchor="middle" class="technique"></text>
  <text x="610" y="290" text-anchor="middle" class="technique">95%</text>
  <rect x="570" y="91" fill="#009988" width="20" height="158.101"/>
  <rect x="590" y="94" fill="#009988" width="20" height="155.025"/>
  <rect x="610" y="93" fill="#009988" width="20" height="156.924"/>
  <rect x="630" y="93" fill="#009988" width="20" height="156.146"/>
</g>

</svg>

